@model E_Learning.ModelsKCCD.ConfirmKCCDView
@using E_Learning.ModelsKCCD
@*<script src="~/Content/assets/Chonse/chosen.jquery.js"></script>
    <link href="~/Content/assets/Chonse/chosen.css" rel="stylesheet" />*@
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@using (Html.BeginForm("Edit", "ConfirmKCCD", FormMethod.Post, new { enctype = "multipart/form-data", id = "formConfir" }))
{
    <div class="modal-dialog" style="max-width:1000px" id="formF">
        <div class="modal-content">
            <div class="modal-header">
                <h5 id="ModalTitle"></h5>
                <a href="#" class="close" data-dismiss="modal">&times;</a>
            </div>
            <div class="modal-body">

                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <fieldset id="SubmitForm">
                    <div class="row">
                        <div class="card col-md-12">
                            @{ SuggestKCCDView phieu = ViewBag.PhieuDN as SuggestKCCDView; }
                            @* Code View *@
                            <div class="HeadTest row">

                                <div class="col-md-12" style="padding-bottom: 1rem;">
                                    <p style="text-align:center; font-size: 1.5rem;font-weight:bold; text-transform:uppercase;">PHIẾU GHI NHẬN KÈM CẶP, CHỈ DẪN</p>
                                </div>

                                <div class="col-md-12">
                                    <p>Nội dung đào tạo:&nbsp;<span class="font-weight-bold"> @Model.NoiDungDT </span></p>
                                    <p>Nhóm năng lực:  &nbsp;<span class="font-weight-bold">  @phieu.TenNhomNL</span>   </p>
                                    <p>Lĩnh vực đào tạo:  &nbsp;<span class="font-weight-bold">  @phieu.TenLVDT</span>  </p>
                                    <p>Thời lượng đào tạo:&nbsp;<span class="font-weight-bold"> @Model.ThoiLuongDT ngày &nbsp; Từ ngày @(phieu.TuNgay.ToString("dd/MM/yyyy") ?? String.Empty)  &nbsp; Đến ngày @(phieu.DenNgay.ToString("dd/MM/yyyy") ?? String.Empty) </span> </p>
                                </div>
                                <div class="col-md-6">
                                    <p>Học viên: &nbsp; <span class="font-weight-bold">  @Model.HoTenHV</span></p>
                                    <p>Vị trí công việc:&nbsp;<span class="font-weight-bold"> @Model.VitriHV</span></p>
                                </div>
                                <div class="col-md-6">
                                    <p>Mã nhân viên: &nbsp; <span class="font-weight-bold"> @Model.MaNV</span></p>
                                    <p>Bộ phận: &nbsp;<span class="font-weight-bold"> @Model.PhongBanHV</span> </p>
                                </div>
                                <div class="col-md-6">
                                    <p>Họ tên người hướng dẫn 1:  &nbsp;<span class="font-weight-bold">  @phieu.HoTen1</span>  </p>
                                    <p>Vị trí công việc:  &nbsp;<span class="font-weight-bold">  @phieu.TenViTri1</span> </p>
                                </div>
                                <div class="col-md-6">
                                    <p>Mã nhân viên:  &nbsp;<span class="font-weight-bold">  @phieu.MaNV1</span>  </p>
                                    <p>Bộ phận: &nbsp;<span class="font-weight-bold">   @Model.PhongBanPhieu</span> </p>
                                </div>
                                <div class="col-md-6">
                                    <p>Họ tên người hướng dẫn 2:  &nbsp;<span class="font-weight-bold">  @phieu.HoTen2</span>  </p>
                                    <p>Vị trí công việc:  &nbsp;<span class="font-weight-bold">  @phieu.TenViTri2</span> </p>
                                </div>
                                <div class="col-md-6">
                                    <p>Mã nhân viên:  &nbsp;<span class="font-weight-bold">  @phieu.MaNV2</span>  </p>
                                    <p>Bộ phận: &nbsp;<span class="font-weight-bold">   @Model.PhongBanPhieu</span> </p>
                                </div>

                                <div class="col-md-12" style="text-decoration:underline;">
                                    <p><strong>I. Tự đánh giá của học viên:</strong></p>
                                    <p><strong>1. Trước đào tạo:</strong></p>
                                </div>
                                <div class="col-md-12">
                                    <p>- Đạt được: &nbsp;<span class="font-weight-bold">  @Model.HVTruocDatDuoc</span></p>
                                    <p>- Cần cải thiện: &nbsp;<span class="font-weight-bold">  @Model.HVTruocCanCaiThien</span> </p>
                                </div>
                                <div class="col-md-12" style="text-decoration:underline;">
                                    <p><strong>2. Sau đào tạo:</strong></p>
                                </div>
                                <div class="col-md-12">
                                    <p>- Đạt được:&nbsp;<span class="font-weight-bold">  @Model.HVSauDatDuoc</span> </p>
                                    <p>- Cần cải thiện (nếu có):&nbsp;<span class="font-weight-bold">  @Model.HVSauCanCaiThien</span> </p>
                                </div>
                                <div class="col-md-12" style="text-decoration:underline;">
                                    <p><strong>II. Đánh giá của người hướng dẫn:</strong></p>
                                </div>
                                <div class="col-md-12">
                                    <table class="table table-bordered">
                                        <thead class="thead-light">
                                            <tr>
                                                <th class="text-center" colspan="2" width="25%">Đánh giá</th>
                                                <th class="text-center" width="25%">Lý thuyết</th>
                                                <th class="text-center" width="25%">Thực hành</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr>
                                                <td class="text-center" rowspan="2">
                                                    Trước đào tạo
                                                </td>
                                                <td class="text-center">
                                                    Điểm
                                                </td>
                                                <td class="text-center">
                                                    <span class="font-weight-bold">   @Model.GVLyThuyetTruocDT</span>
                                                </td>
                                                <td class="text-center">
                                                    <span class="font-weight-bold">   @Model.GVThucHanhTruocDT</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">
                                                    Nhận xét khác
                                                </td>
                                                <td class="text-left">
                                                    <span class="font-weight-bold">   @Model.GVNhanXetLTTruocDT</span>
                                                </td>
                                                <td class="text-left">
                                                    <span class="font-weight-bold">   @Model.GVNhanXetTHTruocDT</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center" rowspan="2">
                                                    Sau đào tạo
                                                </td>
                                                <td class="text-center">
                                                    Điểm
                                                </td>
                                                <td class="text-center">
                                                    <span class="font-weight-bold">      @Model.GVLyThuyetSauDT</span>
                                                </td>
                                                <td class="text-center">
                                                    <span class="font-weight-bold">   @Model.GVThucHanhSauDT</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="text-center">
                                                    Nhận xét khác
                                                </td>
                                                <td class="text-left">
                                                    <span class="font-weight-bold">   @Model.GVNhanXetLTSauDT</span>
                                                </td>
                                                <td class="text-left">
                                                    <span class="font-weight-bold">    @Model.GVNhanXetTHSauDT</span>

                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-md-12" style="text-decoration:underline;">
                                    <p><strong>Kết luận của người hướng dẫn:</strong></p>
                                </div>
                                <div class="col-md-12">
                                    <p>@if (Model.GVKetLuan == 1)
                                    {<i class="fa fa-check-square-o" aria-hidden="true"></i> }
                                    else
                                    { <i class="fa fa-square-o" aria-hidden="true"></i>} Đạt, chuyển đào tạo nội dung khác</p>
                                    <p>
                                        @if (Model.GVKetLuan != 1)
                                        {<i class="fa fa-check-square-o" aria-hidden="true"></i>}
                                        else
                                        { <i class="fa fa-square-o" aria-hidden="true"></i>} Cần đạo tạo thêm
                                </p>
                                <p>Ý kiến khác: <span class="font-weight-bold">   @Model.GVKetLuanYKienKhac</span> </p>
                            </div>

                            <div class="col-md-12" style="text-decoration:underline;">
                                <p><strong>Đề xuất của học viên:</strong></p>
                            </div>
                            <div class="col-md-12">
                                <p>
                                    @if (Model.HVDeXuat == 1)
                                    {<i class="fa fa-check-square-o" aria-hidden="true"></i> }
                                    else
                                    { <i class="fa fa-square-o" aria-hidden="true"></i>} Được đào tạo lại nội dung này để nâng cao năng lực hơn nữa (kể cả đã đạt)
                            </p>
                            <p>
                                @if (Model.HVDeXuat != 1)
                                {<i class="fa fa-check-square-o" aria-hidden="true"></i> }
                                else
                                { <i class="fa fa-square-o" aria-hidden="true"></i>} Khác
                            </p>
                            <p> <span class="font-weight-bold">   @Model.HVDeXuatKhac</span> </p>
                            </div>
                            </div>
                            
                            @* End Code View *@
                            

                        </div>
                    </div>
                    @*<div class="btn-margin-top text-center">
            <input type="submit" value="Xác nhận" class="btn btn-primary pull-right " onclick="validateAndSend()" />
            <input type="reset" value="Hủy" class="btn btn-danger pull-right button_cancel mr-1" data-dismiss="modal" />
        </div>*@
                </fieldset>

            </div>
        </div>
    </div>

}


<script>
    $("#HocVienID").chosen({
        width: "100%",

    });
    function validateAndSend() {
        if (formConfir.GVNhanXetLTTruocDT.value == '' && formConfir.GVNhanXetTHTruocDT.value == '') {
            /*alert('You have to enter at least one phone number.');*/
            //$("#NhanXetTruoc").text("Vui lòng nhập thông tin");
            $("#GVNhanXetLTTruocDT").attr("required", true);
            /* return false;*/
        }
        else {
            /* $("#NhanXetTruoc").text("");*/
            $("#GVNhanXetLTTruocDT").removeAttr('required');
        }
        if (formConfir.GVNhanXetLTSauDT.value == '' && formConfir.GVNhanXetTHSauDT.value == '') {
            /*alert('You have to enter at least one phone number.');*/
            //$("#NhanXetTruoc").text("Vui lòng nhập thông tin");
            $("#GVNhanXetLTSauDT").attr("required", true);
            /* return false;*/
        }
        else {
            /* $("#NhanXetTruoc").text("");*/
            $("#GVNhanXetLTSauDT").removeAttr('required');
        }
    }
    //$().ready(function () {
    //    $("#formConfir").validate({
    //        onfocusout: false,
    //        onkeyup: false,
    //        onclick: false,
    //        rules: {
    //            "HocVienID": {
    //                required: true,
    //                maxlength: 15
    //            },
    //            "GVLyThuyetTruocDT": {
    //                required: true,
    //                maxlength: 2
    //            },
    //            "GVThucHanhTruocDT": {
    //                required: true,
    //                minlength: 8
    //            },
    //            "GVLyThuyetSauDT": {
    //                required: true,
    //                maxlength: 2
    //            },
    //            "GVThucHanhSauDT": {
    //                required: true,
    //                minlength: 8
    //            }
    //        }
    //    });
    //});

    //$("#HuongDan2").chosen({
    //    width: "100%"
    //});

    //$(document).ready(function () {
    //    var i = 2;
    //    $("#add-vt").click(function () {
    //        var renderList = $(`<div class='form-group col-md-8' style='display: grid'>  <textarea class='form-control' placeholder='Tên vị trí ${i}' rows='1' name='TenVTKNL_${i}+' id='TenVTKNL_${i}'></textarea></div>
    //                    <div class='form-group col-md-4' style='display: grid'>  <textarea class='form-control' placeholder='Mã vị trí ${i}' rows='1' name='MaViTri_${i}' id='MaViTri_${i}'></textarea></div>
    //`);
    //        $("#list_vt").before(renderList);
    //        i++;
    //    });
    //});
</script>




